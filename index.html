<html ng-app="myApp">

<head>
  <style>
    svg .babyshark { fill:url(#babyshark);}
    svg .blueberry { fill:url(#blueberry);}
    svg .buttercup { fill:url(#buttercup);}
    svg .canyon { fill:url(#canyon);}
    svg .charcoal { fill:url(#charcoal);}
    svg .charlie { fill:url(#charlie);}
    svg .concrete_melange { fill:url(#concrete_melange);}
    svg .dark_charcoal { fill:url(#dark_charcoal);}
    svg .deep_hygrania { fill:url(#deep_hygrania);}
    svg .denim { fill:url(#denim);}
    svg .dill { fill:url(#dill);}
    svg .eggplant_melange { fill:url(#eggplant_melange);}
    svg .flori_melange { fill:url(#flori_melange);}
    svg .freckles_melange { fill:url(#freckles_melange);}
    svg .glenda { fill:url(#glenda);}
    svg .golden_melange { fill:url(#golden_melange);}
    svg .happy { fill:url(#happy);}
    svg .heather_melange { fill:url(#heather_melange);}
    svg .hey { fill:url(#hey);}
    svg .iced_lt { fill:url(#iced_lt);}
    svg .juiced { fill:url(#juiced);}
    svg .juniper { fill:url(#juniper);}
    svg .light_bosque { fill:url(#light_bosque);}
    svg .love_bird { fill:url(#love_bird);}
    svg .mallard { fill:url(#mallard);}
    svg .moss { fill:url(#moss);}
    svg .natural { fill:url(#natural);}
    svg .peachicot { fill:url(#peachicot);}
    svg .red_hot { fill:url(#red_hot);}
    svg .royal { fill:url(#royal);}
    svg .rustic_barn { fill:url(#rustic_barn);}
    svg .sandstone_melange { fill:url(#sandstone_melange);}
    svg .spruce_melange { fill:url(#spruce_melange);}
    svg .steel { fill:url(#steel);}
    svg .sunflower { fill:url(#sunflower);}
    svg .swedish_berries { fill:url(#swedish_berries);}
    svg .vivid_violet { fill:url(#vivid_violet);}
    svg .wetcement { fill:url(#wetcement);}
    svg .wheat { fill:url(#wheat);}
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
</head>

<body ng-controller="myCtrl">
  <h1>Bumby Builder</h1>
  <!-- <img src="/assets/Cardi.jpg" height="500" width="351" /> -->
  <div style="display: flex; flex-direction: row;">
    <svg width="360" height="500">
      <defs>
        <pattern ng-repeat="color in colors" id="color.patternId" patternUnits="userSpaceOnUse" width="50" height="50">
          <image href="/bumby-builder/assets/{{color.patternId}}.png" x="-10" y="-10" width="100" height="100" />
        </pattern>
      </defs>
      <!-- Right and left are from viewer's perspective -->
      <polygon id="leftFrontPanel" points="65,290 125,155 155,170 160,490 50,495"
        ng-class="selectedOptions.body.leftPanelColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
      <polygon id="leftSleeve" points="8,250 40,200 105,145 125,155 65,290 45,420 8,420"
        ng-class="selectedOptions.sleeves.leftColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
      <polygon id="centerTrim" points="155,170 185,172 190,490 160,490"
        ng-class="selectedOptions.body.centerTrimColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="rightFrontPanel" points="185,172 220,168 270,270 295,470 190,490"
        ng-class="selectedOptions.body.rightPanelColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="rightSleeve" points="220,168 238,152 290,210 359,380 359,430 335,440 275,310 270,270"
        ng-class="selectedOptions.sleeves.rightColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />

        <!-- CUFFS -->
        <polygon id="leftCuff" points="8,385 50,385 45,420 8,420"
        ng-if="selectedOptions.sleeves.cuffs.show" ng-class="selectedOptions.sleeves.cuffs.color.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="rightCuff" points="315,405 359,390 359,430 335,440"
        ng-if="selectedOptions.sleeves.cuffs.show" ng-class="selectedOptions.sleeves.cuffs.color.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="bottomCuff" points="50,475 160,470 190,470 295,450 295,470 190,490 160,490 50,495"
        ng-if="selectedOptions.body.bottomCuff.show" ng-class="selectedOptions.body.bottomCuff.color.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        
        <!-- HOOD -->
        <polygon id="outerhoodbottomleft" points="185,172 158,142 85,138 105,145 125,155 125,155 155,170"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="outerhoodbottomRight" points="175,160 185,145 268,110 260,120 250,130 220,140 238,152 220,168 185,172"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="outerhoodtopLeft" points="85,138 95,80 112,40 125,110 95,115"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="outerhoodtopCenter" points="112,40 210,35 235,105 180,115 125,110"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="outerhoodtopRight" points="210,35 250,75 268,110 235,105"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="innerHood" points="85,138 95,115 125,110 180,115 235,105 268,110 185,145 175,160 158,142"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="innerHoodDarkener" points="85,138 95,115 125,110 180,115 235,105 268,110 185,145 175,160 158,142"
        style="fill:rgba(0,0,0,0.3);" />

        <!-- POCKET -->
        <polygon id="pocket" points="70,455 70,395 120,355 225,345 275,385 275,435 190,450 160,450"
        ng-if="selectedOptions.pocket.show" ng-class="selectedOptions.pocket.color.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
    </svg>
    <div>
      <div>
        <h3>Hood</h3>
        <div>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.hoodColor"></select>
        </div>

        <h3>Sleeves</h3>
        <div>
          <label>Left</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.sleeves.leftColor"></select>
        </div>
        <div>
          <label>Right</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.sleeves.rightColor"></select>
        </div>
        <label><input type="checkbox" ng-model="selectedOptions.sleeves.cuffs.show"> Add Cuffs</label>
        <div ng-if="selectedOptions.sleeves.cuffs.show">
          <label>Cuffs</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.sleeves.cuffs.color"></select>
        </div>

        <h3>Body</h3>
        <div>
          <label>Left</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.body.leftPanelColor"></select>
        </div>
        <div>
          <label>Right</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.body.rightPanelColor"></select>
        </div>
        <div>
          <label>Center</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.body.centerTrimColor"></select>
        </div>
        <label><input type="checkbox" ng-model="selectedOptions.pocket.show"> Add pocket</label>
        <div ng-if="selectedOptions.pocket.show">
          <label>Pocket</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.pocket.color"></select>
        </div>
        <label><input type="checkbox" ng-model="selectedOptions.body.bottomCuff.show"> Add bottom cuff</label>
        <div ng-if="selectedOptions.body.bottomCuff.show">
          <label>Cuff</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.body.bottomCuff.color"></select>
        </div>
      </div>
    </div>
  </div>
  <script>
    angular.module('myApp', [])
      .controller('myCtrl', ['$scope', function($scope) {
        $scope.colors = [
          {
            name: 'Baby Shark',
            patternId: 'babyshark'
          },
          {
            name: 'Blueberry',
            patternId: 'blueberry'
          },
          {
            name: 'Buttercup',
            patternId: 'buttercup'
          },
          {
            name: 'Canyon',
            patternId: 'canyon'
          },
          {
            name: 'Charcoal',
            patternId: 'charcoal'
          },
          {
            name: 'Charlie',
            patternId: 'charlie'
          },
          { 
            name: 'Concrete Melange', 
            patternId: 'concrete_melange'
          },
          { 
            name: 'Dark Charcoal', 
            patternId: 'dark_charcoal'
          },
          {
            name: 'Deep Hygrania',
            patternId: 'deep_hygrania'
          },
          {
            name: 'Denim',
            patternId: 'denim'
          },
          {
            name: 'Dill',
            patternId: 'dill'
          },
          {
            name: 'Eggplant Melange',
            patternId: 'eggplant_melange'
          },
          {
            name: 'Flori Melange',
            patternId: 'flori_melange'
          },
          {
            name: 'Freckles Melange',
            patternId: 'freckles_melange'
          },
          {
            name: 'Glenda',
            patternId: 'glenda'
          },
          {
            name: 'Golden Melange',
            patternId: 'golden_melange'
          },
          { 
            name: 'Happy', 
            patternId: 'happy'
          },
          {
            name: 'Heather Melange',
            patternId: 'heather_melange'
          },
          {
            name: 'Hey',
            patternId: 'hey'
          },
          {
            name: 'Iced LT',
            patternId: 'iced_lt'
          },
          {
            name: 'Juiced',
            patternId: 'juiced'
          },
          {
            name: 'Juniper',
            patternId: 'juniper'
          },
          { 
            name: 'Light Bosque', 
            patternId: 'light_bosque'
          },
          {
            name: 'Love Bird',
            patternId: 'love_bird'
          },
          {
            name: 'Mallard',
            patternId: 'mallard'
          },
          {
            name: 'Moss',
            patternId: 'moss'
          },
          {
            name: 'Natural',
            patternId: 'natural'
          },
          {
            name: 'Peachicot',
            patternId: 'peachicot'
          },
          {
            name: 'Red Hot',
            patternId: 'red_hot'
          },
          {
            name: 'Royal',
            patternId: 'royal'
          },
          {
            name: 'Rustic Barn',
            patternId: 'rustic_barn'
          },
          {
            name: 'Sandstone Melange',
            patternId: 'sandstone_melange'
          },
          {
            name: 'Spruce Melange',
            patternId: 'spruce_melange'
          },
          {
            name: 'Steel',
            patternId: 'steel'
          },
          {
            name: 'Sunflower',
            patternId: 'sunflower'
          },
          {
            name: 'Swedish Berries',
            patternId: 'swedish_berries'
          },
          {
            name: 'Vivid Violet',
            patternId: 'vivid_violet'
          },
          { 
            name: 'Wet Cement', 
            patternId: 'wetcement'
          },
          {
            name: 'Wheat',
            patternId: 'wheat'
          }
        ];
        var defaultColor = $scope.colors[0];
        $scope.selectedOptions = {
          'hoodColor': defaultColor,
          'sleeves': {
            'rightColor': defaultColor,
            'leftColor': defaultColor,
            'cuffs': {
              'show': false,
              'color': defaultColor
            }
          },
          'body': {
            'leftPanelColor': defaultColor,
            'rightPanelColor': defaultColor,
            'centerTrimColor': defaultColor,
            'bottomCuff': {
              'show': false,
              'color': defaultColor
            }
          },
          'pocket': {
            'show': false,
            'color': defaultColor
          },
        };
      }]);
 </script>
</body>

</html>