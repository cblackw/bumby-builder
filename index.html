<html ng-app="myApp">

<head>
  <style>
    svg .happy {
      fill:url(#happy);
    }
    svg .spruce {
      fill:url(#spruce);
    }
    svg .babyshark {
      fill:url(#babyshark);
    }
    svg .sandstone {
      fill:url(#sandstone);
    }
    svg .lightbosque {
      fill:url(#lightbosque);
    }
    svg .concrete {
      fill:url(#concrete);
    }
    svg .wetcement {
      fill:url(#wetcement);
    }
    svg .darkcharcoal {
      fill:url(#darkcharcoal);
    }
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
</head>

<body ng-controller="myCtrl">
  <h1>Bumby Builder</h1>
  <!-- <img src="/assets/Cardi.jpg" height="500" width="351" /> -->
  <div style="display: flex; flex-direction: row;">
    <svg width="360" height="500">
      <defs>
        <pattern id="happy" patternUnits="userSpaceOnUse" width="80" height="80">
          <image href="/bumby-builder/assets/happy.png" x="-10" y="-10" width="100" height="100" />
        </pattern>
        <pattern id="spruce" patternUnits="userSpaceOnUse" width="50" height="50">
          <image href="/bumby-builder/assets/spruce.png" x="-10" y="-10" width="100" height="100" />
        </pattern>
        <pattern id="sandstone" patternUnits="userSpaceOnUse" width="50" height="50">
          <image href="/bumby-builder/assets/sandstone.png" x="-10" y="-10" width="100" height="100" />
        </pattern>
        <pattern id="babyshark" patternUnits="userSpaceOnUse" width="50" height="50">
          <image href="/bumby-builder/assets/baby_shark.png" x="-10" y="-10" width="100" height="100" />
        </pattern>
        <pattern id="lightbosque" patternUnits="userSpaceOnUse" width="50" height="50">
          <image href="/bumby-builder/assets/light_bosque.png" x="-10" y="-10" width="100" height="100" />
        </pattern>
        <pattern id="concrete" patternUnits="userSpaceOnUse" width="50" height="50">
          <image href="/bumby-builder/assets/concrete_melange.png" x="-10" y="-10" width="100" height="100" />
        </pattern>
        <pattern id="wetcement" patternUnits="userSpaceOnUse" width="50" height="50">
          <image href="/bumby-builder/assets/wet_cement.png" x="-10" y="-10" width="100" height="100" />
        </pattern>
        <pattern id="darkcharcoal" patternUnits="userSpaceOnUse" width="50" height="50">
          <image href="/bumby-builder/assets/dark_charcoal.png" x="-10" y="-10" width="100" height="100" />
        </pattern>
      </defs>
      <!-- Right and left are from viewer's perspective -->
      <polygon id="leftFrontPanel" points="65,290 125,155 155,170 160,490 50,495"
        ng-class="selectedOptions.body.leftPanelColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
      <polygon id="leftSleeve" points="8,250 40,200 105,145 125,155 65,290 45,420 8,420"
        ng-class="selectedOptions.sleeves.leftColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
      <polygon id="centerTrim" points="155,170 185,172 190,490 160,490"
        ng-class="selectedOptions.body.centerTrimColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="rightFrontPanel" points="185,172 220,168 270,270 295,470 190,490"
        ng-class="selectedOptions.body.rightPanelColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="rightSleeve" points="220,168 238,152 290,210 359,380 359,430 335,440 275,310 270,270"
        ng-class="selectedOptions.sleeves.rightColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />

        <!-- CUFFS -->
        <polygon id="leftCuff" points="8,385 50,385 45,420 8,420"
        ng-if="selectedOptions.sleeves.cuffs.show" ng-class="selectedOptions.sleeves.cuffs.color.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="rightCuff" points="315,405 359,390 359,430 335,440"
        ng-if="selectedOptions.sleeves.cuffs.show" ng-class="selectedOptions.sleeves.cuffs.color.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="bottomCuff" points="50,475 160,470 190,470 295,450 295,470 190,490 160,490 50,495"
        ng-if="selectedOptions.body.bottomCuff.show" ng-class="selectedOptions.body.bottomCuff.color.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        
        <!-- HOOD -->
        <polygon id="outerhoodbottomleft" points="185,172 158,142 85,138 105,145 125,155 125,155 155,170"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="outerhoodbottomRight" points="175,160 185,145 268,110 260,120 250,130 220,140 238,152 220,168 185,172"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="outerhoodtopLeft" points="85,138 95,80 112,40 125,110 95,115"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="outerhoodtopCenter" points="112,40 210,35 235,105 180,115 125,110"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="outerhoodtopRight" points="210,35 250,75 268,110 235,105"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="innerHood" points="85,138 95,115 125,110 180,115 235,105 268,110 185,145 175,160 158,142"
        ng-class="selectedOptions.hoodColor.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
        <polygon id="innerHoodDarkener" points="85,138 95,115 125,110 180,115 235,105 268,110 185,145 175,160 158,142"
        style="fill:rgba(0,0,0,0.3);" />

        <!-- POCKET -->
        <polygon id="pocket" points="70,455 70,395 120,355 225,345 275,385 275,435 190,450 160,450"
        ng-if="selectedOptions.pocket.show" ng-class="selectedOptions.pocket.color.patternId" style="stroke:#000;stroke-width:2;stroke-opacity: 0.3;" />
    </svg>
    <div>
      <div>
        <h3>Hood</h3>
        <div>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.hoodColor"></select>
        </div>

        <h3>Sleeves</h3>
        <div>
          <label>Left</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.sleeves.leftColor"></select>
        </div>
        <div>
          <label>Right</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.sleeves.rightColor"></select>
        </div>
        <label><input type="checkbox" ng-model="selectedOptions.sleeves.cuffs.show"> Add Cuffs</label>
        <div ng-if="selectedOptions.sleeves.cuffs.show">
          <label>Cuffs</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.sleeves.cuffs.color"></select>
        </div>

        <h3>Body</h3>
        <div>
          <label>Left</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.body.leftPanelColor"></select>
        </div>
        <div>
          <label>Right</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.body.rightPanelColor"></select>
        </div>
        <div>
          <label>Center</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.body.centerTrimColor"></select>
        </div>
        <label><input type="checkbox" ng-model="selectedOptions.pocket.show"> Add pocket</label>
        <div ng-if="selectedOptions.pocket.show">
          <label>Pocket</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.pocket.color"></select>
        </div>
        <label><input type="checkbox" ng-model="selectedOptions.body.bottomCuff.show"> Add bottom cuff</label>
        <div ng-if="selectedOptions.body.bottomCuff.show">
          <label>Cuff</label>
          <select ng-options="color as color.name for color in colors" ng-model="selectedOptions.body.bottomCuff.color"></select>
        </div>
      </div>
    </div>
  </div>
  <script>
    angular.module('myApp', [])
      .controller('myCtrl', ['$scope', function($scope) {
        $scope.colors = [
          {
            name: 'Sandstone',
            patternId: 'sandstone'
          },
          { 
            name: 'Happy', 
            patternId: 'happy'
          },
          {
            name: 'Spruce',
            patternId: 'spruce'
          },
          {
            name: 'Baby Shark',
            patternId: 'babyshark'
          },
          { 
            name: 'Light Bosque', 
            patternId: 'lightbosque'
          },
          { 
            name: 'Concrete', 
            patternId: 'concrete'
          },
          { 
            name: 'Wet Cement', 
            patternId: 'wetcement'
          },
          { 
            name: 'Dark Charcoal', 
            patternId: 'darkcharcoal'
          }
        ];
        var defaultColor = $scope.colors[0];
        $scope.selectedOptions = {
          'hoodColor': defaultColor,
          'sleeves': {
            'rightColor': defaultColor,
            'leftColor': defaultColor,
            'cuffs': {
              'show': false,
              'color': defaultColor
            }
          },
          'body': {
            'leftPanelColor': defaultColor,
            'rightPanelColor': defaultColor,
            'centerTrimColor': defaultColor,
            'bottomCuff': {
              'show': false,
              'color': defaultColor
            }
          },
          'pocket': {
            'show': false,
            'color': defaultColor
          },
        };
      }]);
 </script>
</body>

</html>